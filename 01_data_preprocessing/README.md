# ğŸ“Š ë°ì´í„° ìˆ˜ì§‘ ë° ì „ì²˜ë¦¬ ë³´ê³ ì„œ

> **âš¡ ì‡¼íŠ¹í—ˆ (Short-Cut) - AI íŠ¹í—ˆ ì„ í–‰ ê¸°ìˆ  ì¡°ì‚¬ ì‹œìŠ¤í…œ**  
> Team: ë€¨ğŸ’• | ìµœì¢… ì—…ë°ì´íŠ¸: 2026-01-30

---

## 1. ë°ì´í„° ìˆ˜ì§‘ (Data Extraction)

ì‡¼íŠ¹í—ˆ v3.0ì€ ìµœì‹  AI/NLP íŠ¸ë Œë“œë¥¼ ë°˜ì˜í•˜ê¸° ìœ„í•´ **Google Patents Public Dataset**ì—ì„œ ë„ë©”ì¸ íŠ¹í™” ë°ì´í„°ë¥¼ ì •êµí•˜ê²Œ ì¶”ì¶œí•©ë‹ˆë‹¤.

### 1.1 ë°ì´í„° ì†ŒìŠ¤ ë° ì ‘ê·¼
- **ì†ŒìŠ¤**: Google BigQuery (`patents-public-data.patents.publications`)
- **ë°©ë²•**: `src/bigquery_extractor.py`ë¥¼ í†µí•œ ë„ë©”ì¸ íƒ€ê²Ÿ SQL ìƒì„± ë° ì‹¤í–‰
- **ìµœì í™”**: ë¹„ìš© ì ˆê°ì„ ìœ„í•œ Dry-run ê¸°ëŠ¥ ë° íŒŒí‹°ì…”ë‹(Filing Date) ìµœì í™” ì ìš©

### 1.2 ìˆ˜ì§‘ ê¸°ì¤€ (Domain-Targeted)
ë‹¨ìˆœ í‚¤ì›Œë“œ ë§¤ì¹­ì„ ë„˜ì–´, ê´€ë ¨ IPC ì½”ë“œì™€ í•µì‹¬ ê¸°ìˆ  í‚¤ì›Œë“œë¥¼ ì¡°í•©í•˜ì—¬ ê³ í’ˆì§ˆì˜ RAG í•™ìŠµ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

| ë¶„ë¥˜ | ì„¤ì •ê°’ |
|------|--------|
| **ìˆ˜ì§‘ ê¸°ê°„** | 2018-01-01 ~ 2024-12-31 |
| **ëŒ€ìƒ êµ­ê°€** | US, EP, WO, CN, JP, KR (ì£¼ìš” íŠ¹í—ˆì²­) |
| **ìˆ˜ì§‘ ê·œëª¨** | 10,000ê±´ (ìƒ˜í”Œ) |
| **ì£¼ìš” IPC** | G06F 16 (IR), G06F 40 (NLP), G06N 3 (Neural Net), G06N 20 (ML) |

### 1.3 ê¸°ìˆ  ë„ë©”ì¸ í‚¤ì›Œë“œ (Example)
- Large Language Model (LLM), Retrieval Augmented Generation (RAG)
- Vector Store, Semantic Similarity, Transformer Attention
- Knowledge Graph, Prompt Engineering, Context Window ë“±

---

## 2. ë°ì´í„° ì „ì²˜ë¦¬ (Preprocessing Pipeline)

`src/preprocessor.py`ëŠ” ì›ë³¸ ë°ì´í„°ë¥¼ ê²€ìƒ‰ ë° ë¶„ì„ì— ìµœì í™”ëœ í˜•íƒœë¡œ ê°€ê³µí•˜ëŠ” í•µì‹¬ ì—”ì§„ì…ë‹ˆë‹¤.

### 2.1 4-Level ì²­êµ¬í•­ íŒŒì„œ (Advanced Claim Parser)
v3.0ì—ì„œ ê°€ì¥ ê°•í™”ëœ ê¸°ëŠ¥ìœ¼ë¡œ, ë³µì¡í•œ íŠ¹í—ˆ ì²­êµ¬í•­ êµ¬ì¡°ë¥¼ 4ë‹¨ê³„ ì „ëµìœ¼ë¡œ ë¶„í•´í•©ë‹ˆë‹¤.

1.  **Lv 1 (Regex)**: í‘œì¤€ ì²­êµ¬í•­ í¬ë§·(`1.`, `Claim 1:`, `ì œ1í•­:`)ì„ í†µí•œ ê³ ì† ì •ë°€ ì¶”ì¶œ
2.  **Lv 2 (Structure)**: ë“¤ì—¬ì“°ê¸° ë° ë²ˆí˜¸ ì²´ê³„ ë¶„ì„ì„ í†µí•œ êµ¬ì¡° íŒŒì•…
3.  **Lv 3 (NLP)**: Spacyë¥¼ í™œìš©í•œ ë¬¸ì¥ ê²½ê³„ ì¸ì‹ (ë¶€ì •í™•í•œ ì¤„ë°”ê¿ˆ ë° OCR ë…¸ì´ì¦ˆ ëŒ€ì‘)
4.  **Lv 4 (Minimal)**: ìµœí›„ì˜ ìˆ˜ë‹¨ìœ¼ë¡œ ë¬¸ë‹¨ ë‹¨ìœ„ ë¶„í•  ë˜ëŠ” ì „ì²´ í…ìŠ¤íŠ¸ ë³´ì¡´ (ë°ì´í„° ìœ ì‹¤ ë°©ì§€)

### 2.2 ê³„ì¸µì  ì²­í‚¹ (Hierarchical Chunking)
- **Parent-Child ì „ëµ**: íŠ¹í—ˆ ì „ì²´ ì»¨í…ìŠ¤íŠ¸(Parent)ì™€ ê°œë³„ ì²­êµ¬í•­/ì„¤ëª… ì„¹ì…˜(Child)ì„ ê³„ì¸µì ìœ¼ë¡œ ê´€ë¦¬
- **ì„¤ì •**: ìµœëŒ€ **8,000ì(Characters)** ë‹¨ìœ„ ë¶„í• , ì˜¤ë²„ë© 200ì ì ìš© (ì•½ 2,000 í† í° ë‚´ì™¸)
- **ë©”íƒ€ë°ì´í„°**: Publication Number, IPC, Claim Type ë“±ì„ ë¹„ì •í˜• í…ìŠ¤íŠ¸ì™€ í•¨ê»˜ ì €ì¥

---

## 3. ì„ë² ë”© ë° ì¸ë±ì‹± (Embedding & Indexing)

### 3.1 ì„ë² ë”© ìƒì„± (`src/embedder.py`)
- **ëª¨ë¸**: `text-embedding-3-small` (1536ì°¨ì›)
- **íŠ¹ì§•**: ë°°ì¹˜ ì²˜ë¦¬ ìµœì í™” ë° Rate-limiting ìë™ ì œì–´
- **ê°€ì¤‘ì¹˜ ë¶€ì—¬**: ì œëª©(1.5), ì²­êµ¬í•­(2.0), ì´ˆë¡(1.2) ë“± ì„¹ì…˜ë³„ ì¤‘ìš”ë„ ì°¨ë“± ì ìš©

### 3.2 í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì¸ë±ìŠ¤ (`src/vector_db.py`)
Dense ê²€ìƒ‰ê³¼ Sparse ê²€ìƒ‰ì„ ê²°í•©í•˜ì—¬ ê²€ìƒ‰ ì •í™•ë„ë¥¼ ê·¹ëŒ€í™”í•˜ë©°, í´ë¼ìš°ë“œ ê¸°ë°˜ ì¸ë±ì„œë¥¼ ë©”ì¸ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

- **Dense Index (Pinecone)**: Pinecone Serverlessë¥¼ í†µí•œ ê³ ì† ë²¡í„° ìœ ì‚¬ë„ ê²€ìƒ‰ ë° ê´€ë¦¬
- **Sparse Index (BM25)**: í‚¤ì›Œë“œ ê¸°ë°˜ì˜ ì „í†µì  ì •ë³´ ê²€ìƒ‰ (rank-bm25, ë¡œì»¬ ìºì‹œ ì‚¬ìš©)
- **Fusion (RRF)**: Reciprocal Rank Fusionì„ í†µí•´ ë‘ ê²€ìƒ‰ ê²°ê³¼ì˜ ë­í‚¹ì„ ìµœì ìœ¼ë¡œ ë³‘í•©

---

## 4. ë¦¬ë­ì»¤ ë° í”¼ë“œë°± (Reranker & Feedback)

ê²€ìƒ‰ ê²°ê³¼ì˜ ìµœì¢… í’ˆì§ˆì„ ë†’ì´ê¸° ìœ„í•œ í›„ì²˜ë¦¬ ë‹¨ê³„ì…ë‹ˆë‹¤.

- **Cross-Encoder Reranker**: `ms-marco-MiniLM` ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ì™€ ë¬¸ì„œ ê°„ì˜ ê´€ë ¨ì„±ì„ ë”¥ëŸ¬ë‹ ê¸°ë°˜ìœ¼ë¡œ ì¬í‰ê°€ (`src/reranker.py`)
- **Feedback Mechanism**: ì‚¬ìš©ìì˜ ê²€ìƒ‰ ë§Œì¡±ë„ë¥¼ ë¡œê¹…í•˜ì—¬ í–¥í›„ ì„±ëŠ¥ ê°œì„  ë°ì´í„°ë¡œ í™œìš© (`src/feedback_logger.py`)

## 5. í•™ìŠµ ë°ì´í„° ìƒì„± (Self-RAG Pipeline)

RAG ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ í‰ê°€ì™€ íŒŒì¸íŠœë‹ì„ ìœ„í•œ ê³ í’ˆì§ˆ ë°ì´í„°ì…‹ ìƒì„± íŒŒì´í”„ë¼ì¸(`src/self_rag_generator.py`)ì„ ë‚´ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### 5.1 Auto-Critique (GPT-4o)
ì•µì»¤(Anchor) íŠ¹í—ˆì™€ ì¸ìš©(Cited) íŠ¹í—ˆì˜ ì²­êµ¬í•­ ìŒì„ ìƒì„±í•˜ê³ , AIê°€ ë¹„í‰ê°€(Critique)ê°€ ë˜ì–´ ì •ë‹µì…‹(Ground Truth)ì„ ìƒì„±í•©ë‹ˆë‹¤.

- **Similarity**: ê¸°ìˆ ì  ìœ ì‚¬ë„ ì ìˆ˜ (0-100) ë° ê³µí†µ ìš”ì†Œ ì‹ë³„
- **Infringement Risk**: ì¹¨í•´ ê°€ëŠ¥ì„± ë“±ê¸‰ (High/Medium/Low) ë° ìœ„í—˜ ìš”ì†Œ ë¶„ì„
- **Design Around**: íšŒí”¼ ì„¤ê³„ ì „ëµ ìë™ ì œì•ˆ

ì´ ê³¼ì •ì—ì„œ ìƒì„±ëœ ë°ì´í„°ëŠ” `DeepEval`ì„ ì´ìš©í•œ RAG í’ˆì§ˆ í‰ê°€ë‚˜ í–¥í›„ ë¡œì»¬ LLM íŒŒì¸íŠœë‹ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

---

## 5. ì‹¤í–‰ ê°€ì´ë“œ (Execution)

### ğŸš€ ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
```bash
# ë°ì´í„° ì¶”ì¶œë¶€í„° ì¸ë±ì‹±ê¹Œì§€ ìë™ ìˆ˜í–‰ (Streamlitìš© 100ê±´ ì˜ˆì‹œ)
python src/pipeline.py --limit 100 --execute
```

> **Note**: `--stage` ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ë‹¨ê³„ë§Œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `--stage 5`ëŠ” ì´ì „ì— ì²˜ë¦¬ëœ ë°ì´í„°(`processed_*.json`)ì™€ ì„ë² ë”©(`embeddings_*.npz`)ì´ ì¡´ì¬í•´ì•¼ ì‹¤í–‰ë©ë‹ˆë‹¤.

### ğŸ›  ë‹¨ê³„ë³„ ëª…ë ¹

> **Prerequisites (ì „ì œ ì¡°ê±´)**:
> Spacy NLP ëª¨ë¸ì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ Level 3 íŒŒì‹±ì´ ì •ìƒ ë™ì‘í•©ë‹ˆë‹¤.
> ```bash
> python -m spacy download en_core_web_sm
> ```

1. **BigQuery ì¶”ì¶œ**: `python src/pipeline.py --stage 1`
2. **ì „ì²˜ë¦¬ ë° íŒŒì‹±**: `python src/pipeline.py --stage 2`
3. **ì„ë² ë”© ìƒì„±**: `python src/pipeline.py --stage 4`
4. **ì¸ë±ì‹± êµ¬ì¶•**: `python src/pipeline.py --stage 5` (ì„ í–‰ ë°ì´í„° í•„ìš”)

---

## 6. í’ˆì§ˆ ê²€ì¦ (Verification)

í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µí•´ ì „ì²˜ë¦¬ í’ˆì§ˆì„ ìƒì‹œ ê²€ì¦í•©ë‹ˆë‹¤.

| í…ŒìŠ¤íŠ¸ í•­ëª© | ëª…ë ¹ì–´ | ê²€ì¦ ë‚´ìš© |
|-------------|-------|-----------|
| **Parser Test** | `pytest tests/test_parser.py` | 4-Level íŒŒì‹± ì •í™•ë„ |
| **Hybrid Search** | `pytest tests/test_hybrid_search.py` | RRF ê²°ê³¼ ì¼ê´€ì„± |
| **Evaluation** | `pytest tests/test_evaluation.py` | DeepEval ê¸°ë°˜ RAG í’ˆì§ˆ |

---
*ì‘ì„±: Team ë€¨ğŸ’•*
